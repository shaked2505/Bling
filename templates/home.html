<html>
<head>
  <title>Bling</title>
  <link rel="stylesheet" type="text/css" href="static/css/home.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
  <link rel="stylesheet" href="static/css/membershipCan.css">
  <script src="static/js/home.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
  <header>
    <nav>
      <ul>
        <li><a href="/home">Home</a></li>
        <li><a href="/logout" class="login-button">Logout</a></li>
        {% if is_admin %}
        <li><a href="/logout" class="login-button">admin</a></li>
        {% endif %}
      </ul>
    </nav>
  </header>
  <section class="hero">
    <h1>Welcome to Bling Studio</h1>
      <img src="static/images/logo.png" alt="Logo" width="200px">
    <div class="hero-content">
      <a href="/schedule" class="schedule-button">Schedule</a>
    </div>
  </section>

  
  <section class="membership">
    {% if showCancelProcess %}
      <p>If you are a studio member and wish to cancel your membership - please click here</p>
      {% if is_admin %}
      <a class="cancel-membership-button" role="button" aria-pressed="true">
        Cancel Membership
      </a>
      {% else %}
      <a class="cancel-membership-button" role="button" aria-pressed="true" data-bs-toggle="modal" data-bs-target="#createModal" onclick="send_mail()">
        Cancel Membership
      </a>
      {% endif %}
    {% else %}
    <p>Your Cancellation request is {{ cancle.approvalStatus }}</p>
    <a class="cancel-membership-button" role="button" aria-pressed="true" data-bs-toggle="modal" data-bs-target="#deleteModal">
      Resume Membership
    </a>
    {% endif %}
  </section>
  <div class="modal" id="createModal">
    <div class="modal-dialog">
      <div class="modal-content">
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Membership Cancellation Request</h4>
          <button type="button" onClick="clean_modal(this)" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <!-- Modal body -->
        <div class="modal-body">
          <form action="/membership-cancellation" method="POST" onsubmit="return validateForm()" id="cancelForm">
            <input type="hidden" name="traineeID" value={{ trainee.traineeID }} required>
            <input type="hidden" name="membershipID" value={{ trainee.membershipID }} required>
            <input type="hidden" name="approvalStatus" value="In Process" required>
            <label for="reason">Reason:</label>
            <select class="form-select form-select-sm" name="reason" aria-label=".form-select-sm example" required>
              <option value="" disabled selected>Choose one of the reasons</option>
              <option value="Too expensive">Too expensive</option>
              <option value="Arriving difficulties">Arriving difficulties</option>
              <option value="Schedule difficulties">Schedule difficulties</option>
            </select>
            
            <input type="submit" value="Submit">
          </form>
        </div>
      </div>
    </div>
  </div>
  <div class="modal" id="deleteModal">
    <div class="modal-dialog">
      <div class="modal-content">
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Membership Cancellation Request</h4>
          <button type="button" onClick="clean_modal(this)" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <!-- Modal body -->
        <div class="modal-body">
          <form action="/membership-resume" method="POST">
            <h6>Please note - you are about to resume your membership</h6>
            <input type="hidden" name="traineeID" value={{ trainee.traineeID }} required>
            <input type="hidden" name="membershipID" value={{ trainee.membershipID }} required>
            <input type="submit" value="Submit">
          </form>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
